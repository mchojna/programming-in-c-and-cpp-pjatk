<!doctype html><html lang="en" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="theme-color" media="(prefers-color-scheme: light)" content="#f7f7f7"><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1b1b1e"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"><meta name="viewport" content="width=device-width, user-scalable=no initial-scale=1, shrink-to-fit=no, viewport-fit=cover" ><meta name="generator" content="Jekyll v4.3.4" /><meta property="og:title" content="Widok na dane" /><meta property="og:locale" content="en" /><meta name="description" content="PJATK / PJAIT PJC" /><meta property="og:description" content="PJATK / PJAIT PJC" /><link rel="canonical" href="/~fk/zadania/core-widok-na-dane/" /><meta property="og:url" content="/~fk/zadania/core-widok-na-dane/" /><meta property="og:site_name" content="PJC" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2024-05-20T00:00:00+02:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="Widok na dane" /><meta name="twitter:site" content="@" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2024-05-20T00:00:00+02:00","datePublished":"2024-05-20T00:00:00+02:00","description":"PJATK / PJAIT PJC","headline":"Widok na dane","mainEntityOfPage":{"@type":"WebPage","@id":"/~fk/zadania/core-widok-na-dane/"},"url":"/~fk/zadania/core-widok-na-dane/"}</script><title>Widok na dane | PJC</title><link rel="apple-touch-icon" sizes="180x180" href="/~fk/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/~fk/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/~fk/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/~fk/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/~fk/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="PJC"><meta name="application-name" content="PJC"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/~fk/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="dns-prefetch" href="https://fonts.gstatic.com" crossorigin><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://cdn.jsdelivr.net" ><link rel="dns-prefetch" href="https://cdn.jsdelivr.net" ><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato&family=Source+Sans+Pro:wght@400;600;700;900&display=swap"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css"><link rel="stylesheet" href="/~fk/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/tocbot@4.21.0/dist/tocbot.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1.1.0/dist/magnific-popup.min.css"> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return 'mode'; } static get MODE_ATTR() { return 'data-mode'; } static get DARK_MODE() { return 'dark'; } static get LIGHT_MODE() { return 'light'; } static get ID() { return 'mode-toggle'; } constructor() { if (this.hasMode) { if (this.isDarkMode) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } let self = this; /* always follow the system prefers */ this.sysDarkPrefers.addEventListener('change', () => { if (self.hasMode) { if (self.isDarkMode) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } self.notify(); }); } /* constructor() */ get sysDarkPrefers() { return window.matchMedia('(prefers-color-scheme: dark)'); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode === ModeToggle.DARK_MODE; } get isLightMode() { return this.mode === ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } /* get the current mode on screen */ get modeStatus() { if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer)) { return ModeToggle.DARK_MODE; } else { return ModeToggle.LIGHT_MODE; } } setDark() { document.documentElement.setAttribute(ModeToggle.MODE_ATTR, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { document.documentElement.setAttribute(ModeToggle.MODE_ATTR, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { document.documentElement.removeAttribute(ModeToggle.MODE_ATTR); sessionStorage.removeItem(ModeToggle.MODE_KEY); } /* Notify another plugins that the theme mode has changed */ notify() { window.postMessage( { direction: ModeToggle.ID, message: this.modeStatus }, '*' ); } flipMode() { if (this.hasMode) { if (this.isSysDarkPrefer) { if (this.isLightMode) { this.clearMode(); } else { this.setLight(); } } else { if (this.isDarkMode) { this.clearMode(); } else { this.setDark(); } } } else { if (this.isSysDarkPrefer) { this.setLight(); } else { this.setDark(); } } this.notify(); } /* flipMode() */ } /* ModeToggle */ const modeToggle = new ModeToggle(); </script><body><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper"> <a href="/~fk/" id="avatar" class="rounded-circle"> <img src="/~fk/assets/img/cpp_logo.png" width="112" height="112" alt="avatar" onerror="this.style.display='none'"> </a><div class="site-title"> <a href="/~fk/">PJC</a></div><div class="site-subtitle fst-italic">Programowanie w języku C++</div></div><ul class="nav flex-column flex-grow-1 w-100 ps-0"><li class="nav-item"> <a href="/~fk/" class="nav-link"> <i class="fa-fw fas fa-home"></i> <span>STRONA GŁÓWNA</span> </a><li class="nav-item"> <a href="/~fk/informacje/" class="nav-link"> <i class="fa-fw fas fa-info"></i> <span>INFORMACJE</span> </a><li class="nav-item"> <a href="/~fk/wyklady/" class="nav-link"> <i class="fa-fw fas fa-book"></i> <span>WYKŁADY</span> </a><li class="nav-item"> <a href="/~fk/prezentacje/" class="nav-link"> <i class="fa-fw fas fa-file"></i> <span>PREZENTACJE</span> </a><li class="nav-item"> <a href="/~fk/zadania/" class="nav-link"> <i class="fa-fw fas fa-flask-vial"></i> <span>ZADANIA</span> </a><li class="nav-item"> <a href="/~fk/tags/" class="nav-link"> <i class="fa-fw fas fa-tags"></i> <span>TAGI ZADAŃ</span> </a><li class="nav-item lang-switch-item"> <a href="/~fk/zadania/core-widok-na-dane/" class="nav-link"> <img src="/~fk/assets/img/pl.png" style="max-width: 50%"/> <span>PL</span> </a> <a href="/~fk/en/" class="nav-link"> <img src="/~fk/assets/img/usa.png" style="max-width: 50%;"/> <span>EN</span> </a></ul><div class="sidebar-bottom d-flex flex-wrap align-items-center w-100"> <button class="mode-toggle btn" aria-label="Switch Mode"> <i class="fas fa-adjust"></i> </button> <span class="icon-border"></span> <a href="https://github.com/Filip-FK-Kwiatkowski" aria-label="github" target="_blank" rel="noopener noreferrer" > <i class="fab fa-github"></i> </a> <a href="javascript:location.href = 'mailto:' + ['fk','pjwstk.edu.pl'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a></div></div><i id="desktop-sidebar-trigger" class="fas fa-bars fa-fw" onclick="document.getElementById('sidebar').classList.toggle('hidden_on_desktop')"></i><div id="main-wrapper" class="d-flex justify-content-center"><div id="main" class="container px-xxl-5"><div id="topbar-wrapper"><div id="topbar" class="container d-flex align-items-center justify-content-between h-100" > <span id="breadcrumb"> <span> <a href="/~fk/"> Strona główna </a> </span> <span>Widok na dane</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Szukaj..." > </span> <span id="search-cancel">Cancel</span></div></div><div class="row"><div id="core-wrapper" class="col-12 col-lg-11 col-xl-9 pe-xl-4"><div class="post px-1 px-md-2"><h1 data-toc-skip>Widok na dane</h1><div class="post-meta text-muted"> <span> Opublikowano <em class="" data-ts="1716156000" data-df="ll" data-bs-toggle="tooltip" data-bs-placement="bottom" > May 20, 2024 </em> </span><div class="d-flex justify-content-between"> <span> Autor <em> <a href="https://github.com/Filip-FK-Kwiatkowski">Filip Kwiatkowski</a> </em> </span><div> <span class="readtime" data-bs-toggle="tooltip" data-bs-placement="bottom" title="894 słów" > <em>4 min</em> czytania</span></div></div>Trudność <em> <span class="pin stars ms-1"> <i class="fas fa-star fa-fw" style="font-size: 90%"></i> <i class="fas fa-star fa-fw" style="font-size: 90%"></i> <i class="fas fa-star fa-fw" style="font-size: 90%"></i> <i class="fas fa-star fa-fw" style="font-size: 90%"></i> <i class="far fa-star fa-fw" style="font-size: 90%"></i> </span> </em></div><div class="post-content"><hr /><h2 id="widok-na-dane-o-zmienionej-kolejności"><span class="me-2">Widok na dane o zmienionej kolejności</span><a href="#widok-na-dane-o-zmienionej-kolejności" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>Czasem zdarza się, że chcemy pracować na danych w konkretnej kolejności, ale nie możemy pozwolić sobie na zmodyfikowanie oryginalnego kontenera, w którym te dane się znajdują.</p><p>Przykładowo, być może otrzymujemy stałą referencję do nieposortowanego wektora stringów, którego chcemy wyświetlić w jakiejś kolumnie, w ramach której te teksty będą posortowane alfabetycznie.</p><p>W przypadku dużych obiektów nie opłaca się ich kopiować — warto pracować na <em>widoku</em> danych, których nie będziemy zmieniać.</p><h2 id="zadanie"><span class="me-2">Zadanie</span><a href="#zadanie" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>Napisz szablon funkcji <code class="language-plaintext highlighter-rouge">asSortedView()</code>, który przyjmie wektor dowolnego typu oraz komparator dla elementów tego wektora. Zadaniem tego szablonu będzie zwrócenie wektora surowych wskaźników do oryginalnie przekazanych obiektów (czyli elementów wspomnianego wektora). Wskaźniki powinny wskazywać na te obiekty w taki sposób, aby użytkownik odczytujący te obiekty przez te wskaźniki widział oryginalne dane posortowane zgodnie z przekazanym komparatorem.</p><h2 id="przykłady"><span class="me-2">Przykłady</span><a href="#przykłady" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><h3 id="przykład-1"><span class="me-2">Przykład 1</span><a href="#przykład-1" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>Stringi posortowane alfabetycznie:</p><div class="language-cpp nolineno highlighter-rouge"><div class="code-header"> <span data-label-text="Cpp"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Skopiowano!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
</pre><td class="rouge-code"><pre><span class="k">auto</span> <span class="n">main</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="kt">int</span> <span class="p">{</span>
    <span class="k">auto</span> <span class="n">unsorted</span> <span class="o">=</span> <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&gt;</span><span class="p">{</span>
        <span class="s">"some"</span><span class="p">,</span> <span class="s">"random"</span><span class="p">,</span> <span class="s">"unsorted"</span><span class="p">,</span>
        <span class="s">"and"</span><span class="p">,</span> <span class="s">"unordered"</span><span class="p">,</span> <span class="s">"strings"</span>
    <span class="p">};</span>

    <span class="k">auto</span> <span class="k">const</span> <span class="n">sortedAlphabeticallyView</span> <span class="o">=</span> <span class="n">asSortedView</span><span class="p">(</span>
        <span class="n">unsorted</span><span class="p">,</span> <span class="p">[](</span><span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="k">const</span><span class="o">&amp;</span> <span class="n">left</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="k">const</span><span class="o">&amp;</span> <span class="n">right</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">return</span> <span class="n">left</span><span class="p">.</span><span class="n">size</span><span class="p">()</span> <span class="o">&lt;</span> <span class="n">right</span><span class="p">.</span><span class="n">size</span><span class="p">();</span>
        <span class="p">}</span>
    <span class="p">);</span>

    <span class="n">fmt</span><span class="o">::</span><span class="n">println</span><span class="p">(</span><span class="s">"{}"</span><span class="p">,</span> <span class="n">fmt</span><span class="o">::</span><span class="n">join</span><span class="p">(</span><span class="n">unsorted</span><span class="p">,</span> <span class="s">" "</span><span class="p">));</span>

    <span class="k">for</span> <span class="p">(</span><span class="k">auto</span> <span class="k">const</span> <span class="n">ptr</span> <span class="o">:</span> <span class="n">sortedAlphabeticallyView</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">fmt</span><span class="o">::</span><span class="n">print</span><span class="p">(</span><span class="s">"{} "</span><span class="p">,</span> <span class="o">*</span><span class="n">ptr</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></table></code></div></div><div file="output" class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="output"><i class="far fa-file-code fa-fw"></i></span> <button aria-label="copy" data-title-succeed="Skopiowano!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre>some random unsorted and unordered strings
and some random strings unsorted unordered
</pre></table></code></div></div><h3 id="przykład-2"><span class="me-2">Przykład 2</span><a href="#przykład-2" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>Stringi posortowane alfabetycznie, ale w niezmiennym wektorze:</p><div class="language-cpp nolineno highlighter-rouge"><div class="code-header"> <span data-label-text="Cpp"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Skopiowano!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
</pre><td class="rouge-code"><pre><span class="k">auto</span> <span class="n">main</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="kt">int</span> <span class="p">{</span>
    <span class="k">auto</span> <span class="k">const</span> <span class="n">unsorted</span> <span class="o">=</span> <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&gt;</span><span class="p">{</span> <span class="c1">// const vector</span>
        <span class="s">"some"</span><span class="p">,</span> <span class="s">"random"</span><span class="p">,</span> <span class="s">"unsorted"</span><span class="p">,</span>
        <span class="s">"and"</span><span class="p">,</span> <span class="s">"unordered"</span><span class="p">,</span> <span class="s">"strings"</span>
    <span class="p">};</span>

    <span class="k">auto</span> <span class="k">const</span> <span class="n">sortedAlphabeticallyView</span> <span class="o">=</span> <span class="n">asSortedView</span><span class="p">(</span>
        <span class="n">unsorted</span><span class="p">,</span> <span class="p">[](</span><span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="k">const</span><span class="o">&amp;</span> <span class="n">left</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="k">const</span><span class="o">&amp;</span> <span class="n">right</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">return</span> <span class="n">left</span><span class="p">.</span><span class="n">size</span><span class="p">()</span> <span class="o">&lt;</span> <span class="n">right</span><span class="p">.</span><span class="n">size</span><span class="p">();</span>
        <span class="p">}</span>
    <span class="p">);</span>

    <span class="n">fmt</span><span class="o">::</span><span class="n">println</span><span class="p">(</span><span class="s">"{}"</span><span class="p">,</span> <span class="n">fmt</span><span class="o">::</span><span class="n">join</span><span class="p">(</span><span class="n">unsorted</span><span class="p">,</span> <span class="s">" "</span><span class="p">));</span>

    <span class="k">for</span> <span class="p">(</span><span class="k">auto</span> <span class="k">const</span> <span class="n">ptr</span> <span class="o">:</span> <span class="n">sortedAlphabeticallyView</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">fmt</span><span class="o">::</span><span class="n">print</span><span class="p">(</span><span class="s">"{} "</span><span class="p">,</span> <span class="o">*</span><span class="n">ptr</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></table></code></div></div><div file="output" class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="output"><i class="far fa-file-code fa-fw"></i></span> <button aria-label="copy" data-title-succeed="Skopiowano!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre>some random unsorted and unordered strings
and some random strings unsorted unordered
</pre></table></code></div></div><h3 id="przykład-3"><span class="me-2">Przykład 3</span><a href="#przykład-3" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>Widok wskazuje na faktyczne elementy — zmiana oryginału jest widoczna w widoku:</p><div class="language-cpp nolineno highlighter-rouge"><div class="code-header"> <span data-label-text="Cpp"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Skopiowano!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
</pre><td class="rouge-code"><pre><span class="k">auto</span> <span class="n">main</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="kt">int</span> <span class="p">{</span>
    <span class="k">auto</span> <span class="n">unsorted</span> <span class="o">=</span> <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&gt;</span><span class="p">{</span> <span class="c1">// non-const vector</span>
        <span class="s">"some"</span><span class="p">,</span> <span class="s">"random"</span><span class="p">,</span> <span class="s">"unsorted"</span><span class="p">,</span>
        <span class="s">"and"</span><span class="p">,</span> <span class="s">"unordered"</span><span class="p">,</span> <span class="s">"strings"</span>
    <span class="p">};</span>

    <span class="k">auto</span> <span class="k">const</span> <span class="n">sortedAlphabeticallyView</span> <span class="o">=</span> <span class="n">asSortedView</span><span class="p">(</span>
        <span class="n">unsorted</span><span class="p">,</span> <span class="p">[](</span><span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="k">const</span><span class="o">&amp;</span> <span class="n">left</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="k">const</span><span class="o">&amp;</span> <span class="n">right</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">return</span> <span class="n">left</span><span class="p">.</span><span class="n">size</span><span class="p">()</span> <span class="o">&lt;</span> <span class="n">right</span><span class="p">.</span><span class="n">size</span><span class="p">();</span>
        <span class="p">}</span>
    <span class="p">);</span>

    <span class="n">fmt</span><span class="o">::</span><span class="n">println</span><span class="p">(</span><span class="s">"{}"</span><span class="p">,</span> <span class="n">fmt</span><span class="o">::</span><span class="n">join</span><span class="p">(</span><span class="n">unsorted</span><span class="p">,</span> <span class="s">" "</span><span class="p">));</span>

    <span class="k">for</span> <span class="p">(</span><span class="k">auto</span> <span class="k">const</span> <span class="n">ptr</span> <span class="o">:</span> <span class="n">sortedAlphabeticallyView</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">fmt</span><span class="o">::</span><span class="n">print</span><span class="p">(</span><span class="s">"{} "</span><span class="p">,</span> <span class="o">*</span><span class="n">ptr</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="n">unsorted</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+=</span> <span class="s">"???"</span><span class="p">;</span> <span class="c1">// changing the first element from the original vector</span>

    <span class="n">fmt</span><span class="o">::</span><span class="n">println</span><span class="p">(</span><span class="s">"</span><span class="se">\n</span><span class="s">{}"</span><span class="p">,</span> <span class="n">fmt</span><span class="o">::</span><span class="n">join</span><span class="p">(</span><span class="n">unsorted</span><span class="p">,</span> <span class="s">" "</span><span class="p">));</span>
    <span class="k">for</span> <span class="p">(</span><span class="k">auto</span> <span class="k">const</span> <span class="n">ptr</span> <span class="o">:</span> <span class="n">sortedAlphabeticallyView</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">fmt</span><span class="o">::</span><span class="n">print</span><span class="p">(</span><span class="s">"{} "</span><span class="p">,</span> <span class="o">*</span><span class="n">ptr</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></table></code></div></div><div file="output" class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="output"><i class="far fa-file-code fa-fw"></i></span> <button aria-label="copy" data-title-succeed="Skopiowano!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre>some random unsorted and unordered strings
and some random strings unsorted unordered
some??? random unsorted and unordered strings
and some??? random strings unsorted unordered
</pre></table></code></div></div><h3 id="przykład-4"><span class="me-2">Przykład 4</span><a href="#przykład-4" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>Sortowanie przedmiotów zgodnie z ich polami. Zmienianie przedmiotów po posortowaniu:</p><div class="language-cpp nolineno highlighter-rouge"><div class="code-header"> <span data-label-text="Cpp"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Skopiowano!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
</pre><td class="rouge-code"><pre><span class="k">struct</span> <span class="nc">Subject</span> <span class="p">{</span>
    <span class="kt">int</span> <span class="n">semester</span><span class="p">;</span>
    <span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">code</span><span class="p">;</span>
    <span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">description</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">auto</span> <span class="nf">format_as</span><span class="p">(</span><span class="n">Subject</span> <span class="k">const</span><span class="o">&amp;</span> <span class="n">s</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="p">{</span>
    <span class="k">return</span> <span class="n">fmt</span><span class="o">::</span><span class="n">format</span><span class="p">(</span><span class="s">"[{}. {} - {}]"</span><span class="p">,</span> <span class="n">s</span><span class="p">.</span><span class="n">semester</span><span class="p">,</span> <span class="n">s</span><span class="p">.</span><span class="n">code</span><span class="p">,</span> <span class="n">s</span><span class="p">.</span><span class="n">description</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">auto</span> <span class="n">main</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="kt">int</span> <span class="p">{</span>
    <span class="k">auto</span> <span class="n">unsorted</span> <span class="o">=</span> <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">Subject</span><span class="o">&gt;</span><span class="p">{</span>
        <span class="p">{</span><span class="mi">1</span><span class="p">,</span> <span class="s">"PPJ"</span><span class="p">,</span> <span class="s">"Java and suffering"</span><span class="p">},</span>
        <span class="p">{</span><span class="mi">2</span><span class="p">,</span> <span class="s">"GUI"</span><span class="p">,</span> <span class="s">"Windows and animations"</span><span class="p">},</span>
        <span class="p">{</span><span class="mi">6</span><span class="p">,</span> <span class="s">"MAS"</span><span class="p">,</span> <span class="s">"Massacre"</span><span class="p">},</span>
        <span class="p">{</span><span class="mi">4</span><span class="p">,</span> <span class="s">"APBD"</span><span class="p">,</span> <span class="s">"Finally fun databases and apps"</span><span class="p">},</span>
        <span class="p">{</span><span class="mi">3</span><span class="p">,</span> <span class="s">"ASD"</span><span class="p">,</span> <span class="s">"PT(A)SD"</span><span class="p">},</span>
    <span class="p">};</span>

    <span class="k">auto</span> <span class="k">const</span> <span class="n">sortedBySemesterView</span> <span class="o">=</span> <span class="n">asSortedView</span><span class="p">(</span>
        <span class="n">unsorted</span><span class="p">,</span> <span class="p">[](</span><span class="n">Subject</span> <span class="k">const</span><span class="o">&amp;</span> <span class="n">left</span><span class="p">,</span> <span class="n">Subject</span> <span class="k">const</span><span class="o">&amp;</span> <span class="n">right</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">return</span> <span class="n">left</span><span class="p">.</span><span class="n">semester</span> <span class="o">&lt;</span> <span class="n">right</span><span class="p">.</span><span class="n">semester</span><span class="p">;</span>
        <span class="p">}</span>
    <span class="p">);</span>

    <span class="k">auto</span> <span class="k">const</span> <span class="n">sortedByCodeView</span> <span class="o">=</span> <span class="n">asSortedView</span><span class="p">(</span>
        <span class="n">unsorted</span><span class="p">,</span> <span class="p">[](</span><span class="n">Subject</span> <span class="k">const</span><span class="o">&amp;</span> <span class="n">left</span><span class="p">,</span> <span class="n">Subject</span> <span class="k">const</span><span class="o">&amp;</span> <span class="n">right</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">return</span> <span class="n">left</span><span class="p">.</span><span class="n">code</span> <span class="o">&lt;</span> <span class="n">right</span><span class="p">.</span><span class="n">code</span><span class="p">;</span>
        <span class="p">}</span>
    <span class="p">);</span>

    <span class="k">auto</span> <span class="k">const</span> <span class="n">sortedByDescriptionLengthView</span> <span class="o">=</span> <span class="n">asSortedView</span><span class="p">(</span>
        <span class="n">unsorted</span><span class="p">,</span> <span class="p">[](</span><span class="n">Subject</span> <span class="k">const</span><span class="o">&amp;</span> <span class="n">left</span><span class="p">,</span> <span class="n">Subject</span> <span class="k">const</span><span class="o">&amp;</span> <span class="n">right</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">return</span> <span class="n">left</span><span class="p">.</span><span class="n">description</span><span class="p">.</span><span class="n">size</span><span class="p">()</span> <span class="o">&lt;</span> <span class="n">right</span><span class="p">.</span><span class="n">description</span><span class="p">.</span><span class="n">size</span><span class="p">();</span>
        <span class="p">}</span>
    <span class="p">);</span>

    <span class="k">auto</span> <span class="n">printView</span> <span class="o">=</span> <span class="p">[](</span><span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="k">const</span><span class="o">&amp;</span> <span class="n">name</span><span class="p">,</span> <span class="k">auto</span> <span class="k">const</span><span class="o">&amp;</span> <span class="n">view</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">fmt</span><span class="o">::</span><span class="n">print</span><span class="p">(</span><span class="s">"{} : "</span><span class="p">,</span> <span class="n">name</span><span class="p">);</span>
        <span class="k">for</span> <span class="p">(</span><span class="k">auto</span> <span class="k">const</span> <span class="n">ptr</span> <span class="o">:</span> <span class="n">view</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">fmt</span><span class="o">::</span><span class="n">print</span><span class="p">(</span><span class="s">"{} "</span><span class="p">,</span> <span class="o">*</span><span class="n">ptr</span><span class="p">);</span>
        <span class="p">}</span>
        <span class="n">fmt</span><span class="o">::</span><span class="n">println</span><span class="p">(</span><span class="s">"</span><span class="se">\n</span><span class="s">"</span><span class="p">);</span>
    <span class="p">};</span>

    <span class="n">fmt</span><span class="o">::</span><span class="n">println</span><span class="p">(</span><span class="s">"unsorted: {}</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="n">fmt</span><span class="o">::</span><span class="n">join</span><span class="p">(</span><span class="n">unsorted</span><span class="p">,</span> <span class="s">" "</span><span class="p">));</span>
    <span class="n">printView</span><span class="p">(</span><span class="s">"by code"</span><span class="p">,</span> <span class="n">sortedByCodeView</span><span class="p">);</span>
    <span class="n">printView</span><span class="p">(</span><span class="s">"by semester"</span><span class="p">,</span> <span class="n">sortedBySemesterView</span><span class="p">);</span>
    <span class="n">printView</span><span class="p">(</span><span class="s">"by description length"</span><span class="p">,</span> <span class="n">sortedByDescriptionLengthView</span><span class="p">);</span>

    <span class="n">unsorted</span><span class="p">.</span><span class="n">back</span><span class="p">().</span><span class="n">description</span> <span class="o">=</span> <span class="s">"MAD + computers"</span><span class="p">;</span>

    <span class="n">fmt</span><span class="o">::</span><span class="n">println</span><span class="p">(</span><span class="s">"! Now this ordering is slightly wrong !</span><span class="se">\n</span><span class="s">"</span><span class="p">);</span>

    <span class="n">printView</span><span class="p">(</span><span class="s">"by description length"</span><span class="p">,</span> <span class="n">sortedByDescriptionLengthView</span><span class="p">);</span>
<span class="p">}</span>
</pre></table></code></div></div><div file="output" class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="output"><i class="far fa-file-code fa-fw"></i></span> <button aria-label="copy" data-title-succeed="Skopiowano!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
</pre><td class="rouge-code"><pre>unsorted: [1. PPJ - Java and suffering] [2. GUI - Windows and animations] [6. MAS - Massacre] [4. APBD - Finally fun dat
abases and apps] [3. ASD - PT(A)SD]

by code : [4. APBD - Finally fun databases and apps] [3. ASD - PT(A)SD] [2. GUI - Windows and animations] [6. MAS - Mass
acre] [1. PPJ - Java and suffering]

by semester : [1. PPJ - Java and suffering] [2. GUI - Windows and animations] [3. ASD - PT(A)SD] [4. APBD - Finally fun
databases and apps] [6. MAS - Massacre]

by description length : [3. ASD - PT(A)SD] [6. MAS - Massacre] [1. PPJ - Java and suffering] [2. GUI - Windows and anima
tions] [4. APBD - Finally fun databases and apps]

! Now this ordering is slightly wrong !

by description length : [3. ASD - MAD + computers] [6. MAS - Massacre] [1. PPJ - Java and suffering] [2. GUI - Windows a
nd animations] [4. APBD - Finally fun databases and apps]
</pre></table></code></div></div><hr /></div><div class="post-tail-wrapper text-muted"><div class="post-tags"> <i class="fa fa-tags fa-fw me-1"></i> <a href="/~fk/tags/core/" class="post-tag no-text-decoration" >Core</a> <a href="/~fk/tags/rozdzia%C5%82-10/" class="post-tag no-text-decoration" >Rozdział 10</a> <a href="/~fk/tags/pointers/" class="post-tag no-text-decoration" >pointers</a> <a href="/~fk/tags/sort/" class="post-tag no-text-decoration" >sort</a> <a href="/~fk/tags/comparator/" class="post-tag no-text-decoration" >comparator</a> <a href="/~fk/tags/template/" class="post-tag no-text-decoration" >template</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 ps-2 text-muted"><div class="access"></div><div id="toc-wrapper" class="ps-0 pe-4 mb-5"><div class="panel-heading ps-3 pt-2 mb-2">Zawartość</div><nav id="toc"></nav></div></div></div><div class="row"><div id="tail-wrapper" class="col-12 col-lg-11 col-xl-9 px-3 pe-xl-4 mt-5"><div class="post-navigation d-flex justify-content-between"> <a href="/~fk/zadania/core-wstrzykiwanie-zale%C5%BCno%C5%9Bci/" class="btn btn-outline-primary" prompt="Poprzedni" ><p class="p post-nav-p">Wstrzykiwanie zależności</p></a> <a href="/~fk/zadania/migracja-kodu-java-na-c/" class="btn btn-outline-primary" prompt="Następny" ><p class="p post-nav-p">Migracja kodu Java na C++</p></a></div></div></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-11 post-content"><div id="search-hints"></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div></div><footer><div class="container px-lg-4"><div class="d-flex justify-content-center align-items-center text-muted mx-md-3"><p>Using the <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> theme <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a></p><p>© 2024 <a href="https://github.com/Filip-FK-Kwiatkowski">Filip Kwiatkowski</a>.</p></div></div></footer><div id="mask"></div><button id="back-to-top" aria-label="back-to-top" class="btn btn-lg btn-box-shadow"> <i class="fas fa-angle-up"></i> </button><div id="notification" class="toast" role="alert" aria-live="assertive" aria-atomic="true" data-bs-animation="true" data-bs-autohide="false" ><div class="toast-header"> <button type="button" class="btn-close ms-auto" data-bs-dismiss="toast" aria-label="Close" ></button></div><div class="toast-body text-center pt-0"><p class="px-2 mb-3 text-center">Nowa wersja strony jest dostępna.</p><button type="button" class="btn btn-primary" aria-label="Update"> Aktualizuj </button></div></div><script src="https://cdn.jsdelivr.net/combine/npm/jquery@3.7.0/dist/jquery.min.js,npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js,npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js,npm/lazysizes@5.3.2/lazysizes.min.js,npm/magnific-popup@1.1.0/dist/jquery.magnific-popup.min.js,npm/clipboard@2.0.11/dist/clipboard.min.js,npm/dayjs@1.11.7/dayjs.min.js,npm/dayjs@1.11.7/locale/en.min.js,npm/dayjs@1.11.7/plugin/relativeTime.min.js,npm/dayjs@1.11.7/plugin/localizedFormat.min.js,npm/tocbot@4.21.0/dist/tocbot.min.js"></script> <script defer src="/~fk/assets/js/dist/post.min.js"></script> <script defer src="/~fk/app.js"></script> <script> /* Note: dependent library will be loaded in `js-selector.html` */ SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/~fk/assets/js/data/search_pl.json', searchResultTemplate: '<div class="px-1 px-sm-2 px-lg-4 px-xl-0"> <a href="{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5"></p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="me-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script>
